<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KBC Game Host</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #question { font-size: 24px; margin: 20px; }
        #qr-code { margin: 20px; }
    </style>
</head>
<body>
    <h1>KBC Game Host</h1>
    <div id="question">Question will appear here</div>
    <div id="qr-code">
        <img id="qrImage" src="" alt="QR Code" />
    </div>
    <div id="congratulations" style="color: green; display: none;"></div>
    <div id="wrong-answer" style="color: red; display: none;"></div>

    <script>
        const questions = [
            { question: "What is the capital of France?", answer: "Paris" },
            { question: "Which planet is known as the Red Planet?", answer: "Mars" },
            { question: "What is the largest ocean on Earth?", answer: "Pacific Ocean" },
            { question: "Who wrote 'Romeo and Juliet'?", answer: "William Shakespeare" },
            { question: "What is the smallest prime number?", answer: "2" }
        ];

        let currentQuestion = 0;

        function generateQRCode(questionIndex) {
            const url = `https://ria-rao.github.io/KBC/mobile.html?question=${encodeURIComponent(questions[questionIndex].question)}&index=${questionIndex}`;
            const qrCode = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(url)}&size=200x200`;
            document.getElementById('qrImage').src = qrCode;
        }

        function showResult() {
            const urlParams = new URLSearchParams(window.location.search);
            const result = urlParams.get('result');
            const name = urlParams.get('name');

            if (result === "correct") {
                document.getElementById('congratulations').innerText = `Congratulations, ${name}! Correct answer.`;
                document.getElementById('congratulations').style.display = 'block';
                document.getElementById('wrong-answer').style.display = 'none';
                setTimeout(nextQuestion, 3000); // Move to next question after 3 seconds
            } else if (result === "incorrect") {
                document.getElementById('wrong-answer').innerText = "Wrong answer. Try again.";
                document.getElementById('wrong-answer').style.display = 'block';
                document.getElementById('congratulations').style.display = 'none';
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length) {
                document.getElementById('question').innerText = questions[currentQuestion].question;
                generateQRCode(currentQuestion);
                currentQuestion++;
                document.getElementById('congratulations').style.display = 'none';
                document.getElementById('wrong-answer').style.display = 'none';
            } else {
                document.getElementById('question').innerText = "Game Over!";
                document.getElementById('qrImage').style.display = 'none';
            }
        }

        // Initialize first question and show any result if present
        nextQuestion();
        showResult();
    </script>
</body>
</html>
